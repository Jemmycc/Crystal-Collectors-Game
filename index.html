<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Crystal Collector</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Added link to the jQuery Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!--Added link to the css style sheet -->
    <link rel="stylesheet" type="text/css" href="./style.css">

    <!-- Added a link to Bootstrap-->
    <link href="https://stackpath.bootstrapcdn.com/bootswatch/4.1.3/minty/bootstrap.min.css" rel="stylesheet">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Advent+Pro|Julius+Sans+One|Life+Savers" rel="stylesheet">




</head>

<body>
    <header>
        <h1><strong>Crystal Collectors!</strong></h1>
        <img class="cc c-one" src="./images/b1.png" />
        <img class="cc c-two" src="./images/b2.png" />
        <img class="cc c-three" src="./images/b3.png" />
        <img class="cc c-four" src="./images/b4.png" />
        <audio autoplay id="audio-welcome">
            <source src="./media/a2.mp3" type="audio/mp3"></audio>

    </header>

    <section id="instruction">
        <p>
            There are four crystals below. By clicking on a crystal you add a specific amount of points to your total
            score.<br>
            You win the game by matching your total score to the target number. You lose the game if your total score
            exceeds the target number.<br>
            The value of each crystal is hidden from you until you click on it. <br>
            At the start of each game, the value of each crystal will be changed.<br>
        </p>

        <br>

    </section>

    <section id="content" class="clearfix">

        <section id="image-buttons" class="clearfix">
            <button id="button-1" class="btn btn-outline-info crystal"><img src="./images/crystal01.jpg" /></button>
            <button id="button-2" class="btn btn-outline-info crystal"><img src="./images/crystal02.jpg" /></button>
            <button id="button-3" class="btn btn-outline-info crystal"><img src="./images/crystal03.jpg" /></button>
            <button id="button-4" class="btn btn-outline-info crystal"><img src="./images/crystal04.jpg" /></button>

            <audio id="sound-one">
                <source src="./media/b1.mp3" type="audio/mp3" /></audio>
            <audio id="sound-two">
                <source src="./media/b2.mp3" type="audio/mp3" /></audio>
            <audio id="sound-three">
                <source src="./media/b3.mp3" type="audio/mp3" /></audio>
            <audio id="sound-four">
                <source src="./media/b4.mp3" type="audio/mp3" /></audio>
        </section>
        <br>

        <section id="random-number-title">
            <h3>Target number&nbsp;&nbsp;<span id="random-number"> </span></h3>
        </section>

        <section id="total-score-title">
            <h3>Current count&nbsp;&nbsp;<span id="total-score"> </span> </h3>
        </section>


        <!-- <button id="next-game" onclick="reset()">
                <h3>New Game </h3></span>
            </button> -->

        <section id="win-lose" class="clearfix">

            <div id="wins-title">
                <h3>Wins </h3><span id="wins"> </span>
                <audio id="sound-five">
                    <source src="./media/b5.mp3" type="audio/mp3" /></audio>
            </div>
            <div id="loses-title">
                <h3>Losses </h3><span id="losses"> </span>
            </div>

        </section>

    </section>

    <footer></footer>

</body>


<script>

    $(document).ready(function () {
        $("audio#audio-welcome")[0].play()

        var targetNumber;
        var wins = 0;
        var losses = 0;
        var totalScore;
        var minNumber = 10;
        var maxNumber = 100;
        var but01;
        var but02;
        var but03;
        var but04;


        reset();

        function reset() {
            totalScore = 0;
            $("#total-score").text("");

            targetNumber = Math.floor(Math.random() * (maxNumber - minNumber) + minNumber);
            $("#random-number").html(targetNumber)

            but01 = Math.floor(Math.random() * (targetNumber / 4) + 1);
            but02 = Math.floor(Math.random() * (targetNumber / 4) + 1);
            but03 = Math.floor(Math.random() * (targetNumber / 4) + 1);
            but04 = Math.floor(Math.random() * (targetNumber / 4) + 1);
        }

        $("#button-1").on("click", function () {
            updateScore(but01)
            $("audio#sound-one")[0].play()
        });

        $("#button-2").on("click", function () {
            updateScore(but02)
            $("audio#sound-two")[0].play()
        });

        $("#button-3").on("click", function () {
            updateScore(but03)
            $("audio#sound-three")[0].play()
        });

        $("#button-4").on("click", function () {
            updateScore(but04)
            $("audio#sound-four")[0].play()
        });

        // $("#button-4").on("click", function () {
        //     updateScore += $(but01);
        //     $("#total-score").html(totalScore);

        // })

        function updateScore(val) {
            totalScore += val;
            $("#total-score").html(totalScore);

            if (totalScore == targetNumber) {
                wins++;
                $("#wins").html(wins);
                $("audio#sound-five")[0].play()
                reset();
            }

            else if (totalScore > targetNumber) {
                alert("You lose!");
                losses++;
                $("#losses").html(losses);
                reset();
            }
        }
    });

</script>

</html>